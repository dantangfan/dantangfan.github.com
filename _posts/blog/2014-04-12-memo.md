---
layout: post
title: 备忘录
description: 平时犯过的错，一时都找不到解决办法的
category: blog
---

##把/home目录搬家

还是小菜鸟的时候，到处都建议把所有分区直接挂载在/目录，但是变成老菜鸟之后发现这样是步行的，最好还是单独分区出来，要不然/目录迟早会不够用的。有个逗逼的办法是扩展/目录，但是这样风险太大，于是就想到了不要那么逗逼的办法，把/home目录转义到新的分区。

首先建立一个新的分区并格式化之，比如是sda4。

```shell
mkfs.ext4 /dev/sda4
```

挂载分区用于拷贝当前home下的文件

```
mkdir /mnt/newhome
mount -t ext4 /dev/sda4 /mnt/newhome
```

把home目录下的文件全部拷贝过来

```
cd /home
find . -depth -print0 | cpio --null --sparse -pvd /mnt/newhome
```

修改新分区名字

```
umount /mnt/newhome
mv /home /old_home
mkdir /home
mount /dev/sda4 /home
```

这个时候其实已经把/home目录移动好了。但是我们必须告诉计算机开机的时候该在哪里找home，所以需要修改一下配置文件,在/etc/fstab文件中添加下面一行

```
/dev/sda4 /home ext4 nodev,nosuid 0 2
```

重新启动就成功了。如果不成功也没事，直接用root用户原来的工作都撤销就行了，也不影响大局。


#linux/windows双系统问题

安装linux后第一次开机直接进入grub：
有的童鞋运气不好，第一次开机就出现错误，这很有可能是你安装不当或者系统自身有bug造成的（我们要有怀疑精神，不要老是觉得就是自己的错），没问题。这个时候我们就需要好好的利用tab键了。依次键入
root （hd0,0）--》如果你不确定你的win系统安装盘符可以 root （hd0，【tab】之后就会有提示，选中你需要的盘符就可以了，这里不    .                              细说每  个文件系统的意思了，要是真的什么都不知道就一个一个试就是了，总有一个可以的。
rootnoverify (hd0,0)--》后面那个0就是你自己选择的东东
chainloader +1
boot
好了，现在你又可以见到你亲爱的win了、、、、

